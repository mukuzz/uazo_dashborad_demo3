{"version":3,"sources":["containers/account/Login.module.scss","components/filter/Filter.module.scss","components/table/Table.module.scss","components/nav/SideNavItem.module.scss","components/chart/FactoryOutputChart.module.scss","components/chart/ProgressCharts.module.scss","components/nav/TopNav.module.scss","components/chart/EfficiencyChart.module.scss","components/profile/ProfileSmall.module.scss","components/nav/SideNav.module.scss","components/card/TitledCard.module.scss","components/metric/MetricCard.module.scss","containers/overview/Overview.module.scss","components/nav/NavLayout.module.scss","components/metric/MetricStrip.module.scss","components/chart/QualityReportChart.module.scss","components/metric/QualityReport.module.scss","containers/settings/Settings.module.scss","containers/stitching/Stitching.module.scss","components/card/Card.module.scss","components/table/FrequentDefectsTable.module.scss","containers/account/LogoutButton.module.scss","components/nav/SideNav.js","assets/logo.svg","components/nav/TopNav.js","components/nav/SideNavItem.js","context.js","utils/utils.js","components/nav/NavLayout.js","components/card/Card.js","components/card/TitledCard.js","components/metric/MetricCard.js","components/metric/MetricStrip.js","components/table/Table.js","components/chart/FactoryOutputChart.js","components/chart/ProgressCharts.js","components/table/FrequentDefectsTable.js","components/table/HourlyStatsTable.js","components/table/HourlyProductionTable.js","components/table/KeyStatsTable.js","components/chart/EfficiencyChart.js","components/chart/QualityReportChart.js","components/filter/Filter.js","components/metric/QualityReport.js","components/profile/ProfileSmall.js","components/passPropsToChildren/PassPropsToChildren.js","containers/overview/Overview.js","containers/settings/Settings.js","containers/stitching/Stitching.js","containers/account/Login.js","containers/account/LogoutButton.js","App.js","index.js"],"names":["module","exports","library","add","faTimes","SideNav","id","className","styles","block","data-active","this","props","sideNavActive","button","onClick","handleNavClose","list","children","Component","faBars","faUserAlt","faBell","TopNav","content","handleSideNavToggle","logo","style","backgroundImage","Logo","to","SideNavItem","Container","container","url","location","pathname","text","icon","faIcon","title","withRouter","EventSourceContext","React","createContext","LoggedInUserContext","loggedIn","setUserLogInState","makeCancelable","promise","hasCanceled_","Promise","resolve","reject","then","val","isCanceled","error","cancel","authHeader","Headers","Cookies","get","formatDate","date","d","Date","isNaN","getTime","month","getMonth","day","getDate","year","getFullYear","length","join","PrivateRoute","rest","render","getUrlParamsStringFromFilter","filter","paramsString","filterStartDate","filterStartDateTime","setHours","toISOString","filterEndDate","filterEndDateTime","filterLine","encodeURIComponent","filterStyle","filterOrder","affectMetricsByTime","encodeURI","NavLayout","state","bind","setState","pages","map","page","Link","iconClass","exact","path","RoundedCard","cardStyle","undefined","TitledCard","Card","header","MetricCard","fetchData","netReq","fetch","process","uri","headers","res","status","json","data","extractData","console","eventSource","context","addEventListener","removeEventListener","h2","metricName","h3","toLocaleString","contextType","Table","last_row_sr_value","tableName","table","headings","heading","index","tableData","row","item","hideConcurrentSameSrNo","i","FactoryOutputChart","chartRef","createRef","activeButton","timeUnit","refreshChart","getChartDateRange","start","end","now","startTime","endTime","requestChartType","labels","buildChart","ctx","current","getContext","chart","destroy","Chart","type","Array","fill","datasets","label","borderColor","options","elements","line","tension","responsive","maintainAspectRatio","tooltips","mode","intersect","axis","scales","xAxes","display","scaleLabel","time","tooltipFormat","unit","ticks","major","fontStyle","fontColor","distribution","yAxes","beginAtZero","ref","ProgressCharts","Object","assign","activeChart","urlParams","target","produced","forEach","po","push","chartOptions","prevProps","backgroundColor","chartOption","name","FrequentDefectsTable","def","def_name","operation","defect","freq","affected_lines","HourlyStatsTable","refresh","replaceAll","toUpperCase","shouldRefresh","HourlyProductionTable","KeyStatsTable","EfficiencyChart","efficiencyRealized","actual","per","parseFloat","gapDegree","gapPosition","strokeWidth","trailWidth","strokeLinecap","percent","stat","footer","toFixed","QualityReportChart","ftt","defective","rectified","rejected","aspectRatio","legend","position","animation","animateScale","animateRotate","API_URL","Filter","fetchOrders","fetchStyles","fetchLines","ordersNetReq","orders","order","order_number","styleNetReq","number","lineNetReq","lines","card","input","onChange","handleFilterStartDateChange","value","handleFilterEndDateChange","handleFilterOrderChange","handleFilterStyleChange","handleFilterLineChange","ReportItem","metric","metricPer","color","hoverText","borderBottom","QualityReport","fttPercentage","ftt_percentage","defectivePercentage","defective_percentage","rectifiedPercentage","rectified_percentage","rejectedPercentage","rejected_percentage","dhu","ProfileSmall","remove","username","user","imgRef","Consumer","img","image","src","draggable","onError","Overview","startDate","reduce","prev","curr","Settings","Stitching","event","updateURL","window","history","replaceState","getSearchParams","filterParams","URLSearchParams","set","toString","getFilter","urlSearchParams","search","has","faUnlockAlt","faEnvelope","Login","handleUserNameChange","handlePasswordChange","password","handleSubmit","preventDefault","message","processing","method","body","JSON","stringify","token","expires","sameSite","secure","COOKIE_SECURE","finally","onSubmit","required","placeholder","submit","version","width","height","viewBox","cx","cy","r","transform","attributeName","values","calcMode","dur","repeatCount","LogoutButton","faCog","faChartPie","faChartLine","dom","watch","App","EventSource","userLoggedIn","close","Provider","l","decoded","slice","split","s","replace","hash","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d59d01b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Login_block__Cgb-E\",\"content\":\"Login_content__31Hc4\",\"back-link\":\"Login_back-link__38gxy\",\"card\":\"Login_card__1wesA\",\"title\":\"Login_title__33x7x\",\"form-group\":\"Login_form-group__3mrrw\",\"input-group\":\"Login_input-group__2w8u-\",\"message\":\"Login_message__9NFX4\",\"submit\":\"Login_submit__3r-dq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Filter_block__19iNY\",\"card\":\"Filter_card__17nJb\",\"input\":\"Filter_input__UUK1k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table-cont\":\"Table_table-cont__r9qBv\",\"title-cont\":\"Table_title-cont__3w7AI\",\"title\":\"Table_title__3RWda\",\"table\":\"Table_table__3qmb0\",\"heading\":\"Table_heading__10IME\",\"row\":\"Table_row__2OIQY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"SideNavItem_block__3Q4jU\",\"text\":\"SideNavItem_text__1DlEG\",\"icon\":\"SideNavItem_icon__1anzi\",\"content\":\"SideNavItem_content__3wXm2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"FactoryOutputChart_block__2oZAM\",\"header\":\"FactoryOutputChart_header__2A0Fb\",\"title\":\"FactoryOutputChart_title__3hs7o\",\"filter\":\"FactoryOutputChart_filter__2336O\",\"chart\":\"FactoryOutputChart_chart__1qf_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"ProgressCharts_block__1ced3\",\"header\":\"ProgressCharts_header__2f9Xs\",\"title\":\"ProgressCharts_title__3QrQg\",\"filter\":\"ProgressCharts_filter__3VTK1\",\"chart\":\"ProgressCharts_chart__uSjsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"TopNav_block__P68o2\",\"content\":\"TopNav_content__3nUDE\",\"button\":\"TopNav_button__3egls\",\"logo\":\"TopNav_logo__39ZOZ\",\"notification\":\"TopNav_notification__32VQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"EfficiencyChart_block__39AL6\",\"chart\":\"EfficiencyChart_chart__12viz\",\"stat\":\"EfficiencyChart_stat__eGao1\",\"footer\":\"EfficiencyChart_footer__2S-Cd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"ProfileSmall_block__1Drum\",\"content\":\"ProfileSmall_content__1ncPU\",\"img\":\"ProfileSmall_img__PWfYe\",\"name\":\"ProfileSmall_name__W6Yai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"SideNav_block__2oUu-\",\"list\":\"SideNav_list__3_3r3\",\"button\":\"SideNav_button__oRjgj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"TitledCard_block__3Rjdb\",\"header\":\"TitledCard_header__1Sky9\",\"title\":\"TitledCard_title__2q4-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MetricCard_block__2p1BT\",\"h2\":\"MetricCard_h2__ukYc0\",\"h3\":\"MetricCard_h3__nMTN_\",\"icon\":\"MetricCard_icon__15ieD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Overview_block__24MnV\",\"metric-cards-cont\":\"Overview_metric-cards-cont__kOg0o\",\"detail-cards-cont\":\"Overview_detail-cards-cont__2xCCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"NavLayout_block__K_i9S\",\"content\":\"NavLayout_content__2_sLe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MetricStrip_block__3Dvhf\",\"item\":\"MetricStrip_item__1s1Gm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"QualityReportChart_block__-xZFA\",\"chart\":\"QualityReportChart_chart__2SqDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"QualityReport_block__15rFH\",\"report-item\":\"QualityReport_report-item__XPS23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Settings_block__bhfQr\",\"account-options\":\"Settings_account-options__INd5g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Stitching_block__30o2b\",\"metric-strips-cont\":\"Stitching_metric-strips-cont__2Hksr\",\"detail-cards-cont\":\"Stitching_detail-cards-cont__2UgNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Card_block__1JQrE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"def-name\":\"FrequentDefectsTable_def-name__2_979\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"LogoutButton_block__PHuqw\"};","import React, { Component } from 'react';\nimport styles from \"./SideNav.module.scss\"\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add([faTimes])\n\nclass SideNav extends Component {\n    render() {\n        return (\n            <nav id=\"sidebarMenu\" className={styles.block} data-active={`${this.props.sideNavActive}`}>\n                <button className={styles.button} onClick={this.props.handleNavClose}>\n                    <span className=\"fas fa-times\"></span>\n                </button>\n                <ul className={styles.list}>\n                    {this.props.children}\n                </ul>\n            </nav>\n        )\n    }\n}\n\nexport default SideNav;","export default __webpack_public_path__ + \"static/media/logo.c04a650d.svg\";","import React, { Component } from 'react';\nimport styles from \"./TopNav.module.scss\"\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faBars, faUserAlt, faBell } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../../assets/logo.svg\"\nimport { ProfileSmall } from '..';\n\nlibrary.add([faBars, faUserAlt, faBell])\n\nclass TopNav extends Component {\n    render() {\n        return (\n            <nav className={styles.block} data-active={`${this.props.sideNavActive}`}>\n                <div className={styles.content}>\n                    <button className={styles.button} onClick={this.props.handleSideNavToggle}>\n                        <span className=\"fas fa-bars\"></span>\n                    </button>\n                    <div className={styles.logo} style={{backgroundImage: `url(\"${Logo}\")`}}>\n                        <Link to=\"/\"></Link>\n                    </div>\n                    {/* <div className={styles.notification}>\n                        <span className=\"fas fa-bell\"></span>\n                    </div> */}\n                    <ProfileSmall />\n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default TopNav;","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport styles from \"./SideNavItem.module.scss\"\n\nclass SideNavItem extends Component {\n    render() {\n        const Container = this.props.container\n        return (\n            <li className={styles.block} >\n                <Container to={this.props.url}>\n                    <div\n                        className={styles.content}\n                        data-active={`${this.props.url === this.props.location.pathname}`}\n                        onClick={this.props.handleNavClose}\n                        >\n                        <span className={styles.text}>\n                            <span className={styles.icon + \" \" + this.props.faIcon}></span>\n                        </span>\n                        <span className={styles.text}>{this.props.title}</span>\n                    </div>\n                </Container>\n            </li>\n        );\n    }\n}\n\nexport default withRouter(SideNavItem);","import React from \"react\";\n\nexport const EventSourceContext = React.createContext()\n\nexport const LoggedInUserContext = React.createContext({\n  loggedIn: false,\n  setUserLogInState: null,\n})"," import Cookies from \"js-cookie\";\n import { Route, Redirect } from \"react-router-dom\";\n import { LoggedInUserContext } from \"../context\";\n\nexport const makeCancelable = (promise) => {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      val => hasCanceled_ ? reject({isCanceled: true}) : resolve(val),\n      error => hasCanceled_ ? reject({isCanceled: true}) : reject(error)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    },\n  };\n};\n\nexport const authHeader = () => {\n  return new Headers({\n    'Authorization': `Token ${Cookies.get('token')}`\n  })\n}\n\nexport const formatDate = (date) => {\n  var d = new Date(date) \n  if (isNaN(d.getTime())) {\n    return ''\n  }\n  var month = '' + (d.getMonth() + 1)\n  var day = '' + d.getDate()\n  var year = d.getFullYear()\n\n  if (month.length < 2) \n      month = '0' + month;\n  if (day.length < 2) \n      day = '0' + day;\n\n  return [year, month, day].join('-');\n}\n\nexport const PrivateRoute = ({ children, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n      children\n      }\n    />\n  );\n}\n\nexport const isUserLoggedIn = () => {\n  if (Cookies.get('token'))\n    return true\n  else\n   return false\n}\n\nexport const getUrlParamsStringFromFilter = (filter) =>  {\n  if (!filter)\n    return ''\n  let paramsString = '?'\n  if (filter.filterStartDate) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    let filterStartDateTime = new Date(filter.filterStartDate)\n\t\tfilterStartDateTime.setHours(0,0,0,0)\n    paramsString += `startDateTime=${filterStartDateTime.toISOString()}`\n  }\n  if (filter.filterEndDate) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    let filterEndDateTime = new Date(filter.filterEndDate)\n\t\tfilterEndDateTime.setHours(23,59,59,999)\n    paramsString += `endDateTime=${filterEndDateTime.toISOString()}`\n  }\n  if (filter.filterLine) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    paramsString += `line=${encodeURIComponent(filter.filterLine)}`\n  }\n  if (filter.filterStyle) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    paramsString += `style=${encodeURIComponent(filter.filterStyle)}`\n  }\n  if (filter.filterOrder) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    paramsString += `order=${encodeURIComponent(filter.filterOrder)}`\n  }\n  if (filter.affectMetricsByTime) {\n    if (paramsString.length > 1)\n      paramsString += '&'\n    paramsString += `affectMetricsByTime=${encodeURIComponent(filter.affectMetricsByTime)}`\n  }\n  return encodeURI(paramsString)\n}","import React from \"react\";\nimport { TopNav, SideNav, SideNavItem } from \"..\";\nimport styles from \"./NavLayout.module.scss\";\nimport { Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport { PrivateRoute } from \"../../utils/utils\";\n\n\nclass NavLayout extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {sideNavActive: false}\n        this.handleNavClose = this.handleNavClose.bind(this)\n        this.handleSideNavToggle = this.handleSideNavToggle.bind(this)\n    }\n\n    handleNavClose() {\n        this.setState({sideNavActive: false})\n    }\n\n    handleSideNavToggle() {\n        this.setState((state) => ({sideNavActive: !state.sideNavActive}))\n    }\n\n    render() {\n        return (\n            <div className={styles.block}>\n                <TopNav handleSideNavToggle={this.handleSideNavToggle} sideNavActive={this.state.sideNavActive}/>\n                <SideNav\n                    handleNavClose={this.handleNavClose}\n                    sideNavActive={this.state.sideNavActive}\n                    >\n                    {this.props.pages.map((page) => {\n                        return (\n                            <SideNavItem\n                                key={page.url}\n                                container={Link}\n                                title={page.title}\n                                url={page.url}\n                                faIcon={page.iconClass}\n                                handleNavClose={this.handleNavClose}\n                            />\n                        )\n                    })}\n                </SideNav>\n                <div className={styles.content} data-active={`${this.state.sideNavActive}`}>\n                    <Switch>\n                        {this.props.pages.map((page) => {\n                            return <PrivateRoute exact key={page.url} path={page.url}>{page.content}</PrivateRoute>\n                        })}\n                        <Route path=\"*\"><Redirect to=\"/\" /></Route>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default NavLayout","import React, { Component } from 'react';\nimport styles from \"./Card.module.scss\";\n\nclass RoundedCard extends Component {\n    render() {\n        let cardStyle = styles.block\n        if (this.props.className !== undefined)\n            cardStyle += ' ' + this.props.className\n        return (\n            <div className={cardStyle}>\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default RoundedCard;","import React, { Component } from 'react';\nimport { Card } from '..';\nimport styles from './TitledCard.module.scss'\n\nclass TitledCard extends Component {\n  render() {\n    return (\n      <Card className={this.props.className}>\n        <div className={styles.block}>\n          <div className={styles.header}>\n            <h2 className={styles.title}>{this.props.title}</h2>\n          </div>\n          {this.props.content}\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default TitledCard;","import React, { Component } from 'react';\nimport { Card } from '..';\nimport styles from \"./MetricCard.module.scss\";\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass MetricCard extends Component {\n\tstatic contextType = EventSourceContext\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\"data\": \"-\"}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData()\n\t\tthis.eventSource = this.context\n    \tthis.eventSource.addEventListener(\"newQcInput\", this.fetchData)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n\tfetchData = () => {\n    if (this.netReq) this.netReq.cancel()\n\t\tthis.netReq = makeCancelable(fetch(`${API_URL}${this.props.uri}`, {headers: authHeader()}))\n\t\tthis.netReq.promise.then(res => {\n\t\t\tif (res.status !== 200) return null\n\t\t\treturn res.json()\n\t\t})\n\t\t.then(\n\t\t\t(data) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\"data\": this.props.extractData(data.data)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<div className={styles.block}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 className={styles.h2}>{this.props.metricName}</h2>\n\t\t\t\t\t\t<h3 className={styles.h3}>{this.state.data.toLocaleString()}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n    \nexport default MetricCard;","import React, { Component } from 'react';\nimport { Card } from '..';\nimport styles from \"./MetricStrip.module.scss\"\n\nclass MetricStrip extends Component {\n  render() {\n    return (\n      <Card>\n        <div className={styles.block}>\n          {this.props.items.map((item, index) => {\n            return (\n              <div key={index+item.title} className={styles.item}>\n                <h3>{item.title}</h3>\n                <h4>{item.body}</h4>\n              </div>\n            )\n          })}\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default MetricStrip;","import React, { Component } from 'react';\nimport styles from './Table.module.scss';\nimport { Card } from \"..\";\n\nclass Table extends Component {\n\trender() {\n\t\tlet last_row_sr_value = ''\n\t\treturn (\n\t\t\t\t<Card>\n\t\t\t\t\t<div className={styles['title-cont']}>\n\t\t\t\t\t\t<h2 className={styles.title}>{this.props.tableName}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles['table-cont']}>\n\t\t\t\t\t\t<table className={styles.table}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.headings !== undefined\n\t\t\t\t\t\t\t\t? <thead className={styles.heading}>\n\t\t\t\t\t\t\t\t\t\t<tr>{this.props.headings.map((heading, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <th key={index}>{heading}</th> })}</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{this.props.tableData.map((row, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={index} className={styles.row}>\n\t\t\t\t\t\t\t\t\t\t\t{row.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (index === 0 && this.props.hideConcurrentSameSrNo === true) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst i = item\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item === last_row_sr_value) item = ''\n\t\t\t\t\t\t\t\t\t\t\t\t\tlast_row_sr_value = i\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn <td key={index}>{item}</td>\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t);\n\t\t}\n\t}\n\t\n\texport default Table;","import React, { Component } from 'react';\nimport Chart from \"chart.js\";\nimport { Card } from '..';\nimport styles from \"./FactoryOutputChart.module.scss\";\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass FactoryOutputChart extends Component {\n  static contextType = EventSourceContext\n  chartRef = React.createRef()\n  activeChartRequestKey\n  activeButton = \"1d\"\n  timeUnit = 'day'\n\n  constructor(props){\n    super(props)\n    this.state = {\n      labels: [],\n      data: [],\n    }\n    this.startTime = ''\n    this.endTime = ''\n  }\n  \n\tcomponentDidMount() {\n    this.buildChart()\n    this.refreshChart()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.refreshChart)\n  }\n\n  componentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.refreshChart)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n  componentDidUpdate() {\n    this.buildChart()\n  }\n\n  refreshChart = () => {\n    this.getChartDateRange()\n    this.fetchData()\n  }\n\n  getChartDateRange = () => {\n    let start, end\n    if (this.activeButton === \"1d\") {\n      start = new Date()\n      this.timeUnit = 'hour'\n    } else if (this.activeButton === \"1w\") {\n      start = new Date(Date.now() - 6 * 24 * 60 * 60 * 1000)\n      this.timeUnit = 'day'\n    } else if (this.activeButton === \"1m\") {\n      start = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n      this.timeUnit = 'day'\n    }\n    start.setHours(0,0,0,0)\n    end = new Date()\n    end.setHours(23,59,59,999)\n    this.startTime = start\n    this.endTime = end\n  }\n\n  fetchData = () => {\n    const requestChartType = `${this.activeButton}`\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(fetch(`${API_URL}/metric/output-timeseries/?start=${this.startTime.toISOString()}&end=${this.endTime.toISOString()}`, {headers: authHeader()}))\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          if (this.activeButton === requestChartType) {\n            this.setState({\n              labels: data.labels,\n              data: data.data\n            })\n          }\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  buildChart = () => {\n    const {labels, data} = this.state\n    const ctx = this.chartRef.current.getContext(\"2d\")\n\n    if (typeof this.chart !== \"undefined\") this.chart.destroy();\n\n    this.chart = new Chart(ctx, {\n      type: \"line\",\n      data: {\n        labels: labels.length === data.length ? labels : new Array(data.length).fill(\"Date\"),\n        datasets: [\n          {\n            label: \"Output\",\n            data: data,\n            borderColor: \"#98B9AB\",\n            fill: true,\n          }\n        ]\n      },\n      options: {\n        elements: {\n          line: {\n              tension: 0\n          }\n        },\n        responsive: true,\n        maintainAspectRatio: false,\n        tooltips: {\n          mode: \"nearest\",\n          intersect: false,\n          axis: 'x',\n        },\n        scales: {\n\t\t\t\t\txAxes: [{\n\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\t\t// labelString: 'Date'\n            },\n            time: {\n              tooltipFormat: 'll HH:mm',\n              unit: this.timeUnit\n            },\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tmajor: {\n\t\t\t\t\t\t\t\tfontStyle: 'bold',\n\t\t\t\t\t\t\t\tfontColor: '#FF0000'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n            distribution: 'linear'\n\t\t\t\t\t}],\n\t\t\t\t\tyAxes: [{\n            ticks: {\n              beginAtZero: true,\n            },\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\t\t// labelString: 'Output'\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t}\n      }\n    })\n  }\n\n  render() {\n    return (\n      <Card>\n        <div className={styles.block}>\n          <div className={styles.header}>\n            <h2 className={styles.title}>Factory Output</h2>\n            <div className={styles.filter}>\n              <button\n                data-active={this.activeButton === \"1d\"}\n                onClick={() => {\n                    this.activeButton = \"1d\"\n                    this.refreshChart()\n                  }}>\n                  1d\n              </button>\n              <button\n                data-active={this.activeButton === \"1w\"}\n                onClick={() => {\n                  this.activeButton = \"1w\"\n                  this.refreshChart()\n                }}>\n                  1w\n              </button>\n              <button\n                data-active={this.activeButton === \"1m\"}\n                onClick={() => {\n                  this.activeButton = \"1m\"\n                  this.refreshChart()\n                }}>\n                  1m\n              </button>\n            </div>\n          </div>\n          <div className={styles.chart}>\n            <canvas id=\"output-chart\" ref={this.chartRef} />\n          </div>\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default FactoryOutputChart;","import React, { Component } from 'react';\nimport Chart from \"chart.js\";\nimport { Card } from '..';\nimport styles from './ProgressCharts.module.scss'\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass ProgressCharts extends Component {\n  static contextType = EventSourceContext\n  chartRef = React.createRef()\n\n  constructor(props){\n    super(props)\n    this.state = {\n      labels: [],\n      target: [],\n      produced: []\n    }\n    this.chartOptions = this.props.chartOptions\n    this.activeChart = this.chartOptions[0]\n  }\n\n\tcomponentDidMount() {\n    this.buildChart()\n    this.fetchData()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.fetchData)\n  }\n\n  componentWillUnmount() {\n    this.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.fetchData()\n    } else this.buildChart()\n  }\n\n  fetchData = () => {\n    let filter = this.props.filter\n    if (filter){\n      filter = Object.assign({}, filter)\n      filter.affectMetricsByTime = this.activeChart.affectMetricsByTime\n    }\n    const urlParams = getUrlParamsStringFromFilter(filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}${this.activeChart.uri}${urlParams}`,\n      {headers: authHeader()},\n    ))\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          const labels = []\n          const target = []\n          const produced = []\n          // TODO: trim label if too big\n          data.data.forEach(po => {\n            labels.push(po.label)\n            target.push(po.target)\n            produced.push(po.produced)\n          });\n          this.setState({\n            labels: labels,\n            target: target,\n            produced: produced\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  buildChart() {\n    const {labels, target, produced} = this.state\n    const ctx = this.chartRef.current.getContext(\"2d\")\n\n    if (typeof this.chart !== \"undefined\") this.chart.destroy();\n\n    this.chart = new Chart(ctx, {\n      type: \"horizontalBar\",\n      data: {\n        labels: labels.length === target.length ? labels : new Array(target.length).fill(\"-\"),\n        datasets: [{\n            label: \"Target\",\n            data: target,\n            backgroundColor: \"#8d7aeb\",\n        },{\n          label: \"Produced\",\n          backgroundColor: \"#42f581\",\n          data: produced,\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n\t\t\t\t\txAxes: [{\n            ticks: {\n              beginAtZero: true,\n            },\n\t\t\t\t\t}]\n        }\n      }\n    })\n  }\n\n  render() {\n    return (\n      <Card>\n        <div className={styles.block}>\n          <div className={styles.header}>\n            <h2 className={styles.title}>Progress</h2>\n            <div className={styles.filter}>\n              {this.chartOptions.map(chartOption => {\n                return (\n                  <button key={chartOption.uri}\n                    data-active={this.activeChart.uri === chartOption.uri}\n                    onClick={() => {\n                      this.activeChart = chartOption\n                      this.fetchData()\n                    }}>\n                      {chartOption.name}\n                  </button>\n                )\n              })}\n            </div>\n          </div>\n          <div className={styles.chart}>\n            <canvas id=\"po-progress-chart\" ref={this.chartRef} />\n          </div>\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default ProgressCharts;","import React, { Component } from 'react';\nimport { Table } from '..';\nimport styles from './FrequentDefectsTable.module.scss'\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass FrequentDefectsTable extends Component {\n  static contextType = EventSourceContext\n  constructor(props){\n    super(props)\n    this.state = {\n      headings: ['Part / Defect', 'Frequency', 'Line # Affected'],\n      data: [],\n    }\n  }\n  \n\tcomponentDidMount() {\n    this.fetchData()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.fetchData)\n  }\n\n  componentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.fetchData()\n    }\n  }\n\n  fetchData = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/frequent-operation-defects/${urlParams}`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          const tableData = []\n          data.data.forEach(def => {\n            const def_name = <div className={styles['def-name']}><h3>{def.operation}</h3><p>{def.defect}</p></div>\n            tableData.push([def_name, def.freq, def.affected_lines])\n          });\n          this.setState({\n            data: tableData,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Table\n        hideConcurrentSameSrNo={false}\n        tableName=\"Frequent Defects\"\n        headings={this.state.headings}\n        tableData={this.state.data}\n      />\n    );\n  }\n}\n\nexport default FrequentDefectsTable;","import React, { Component } from 'react';\nimport { Table } from '..';\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass HourlyStatsTable extends Component {\n  static contextType = EventSourceContext\n  constructor(props) {\n    super(props)\n    this.state = {\"headings\": [], tableData: []}\n    this.shouldRefresh = true;\n  }\n\n  componentDidMount() {\n    this.refresh()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.refresh)\n  }\n\n  componentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.refresh)\n    if (this.netReq) this.netReq.cancel()\n\t}\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.refresh()\n    }\n  }\n\n  refresh = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/hourly-stats/${urlParams}`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return []\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          if (data.headings && data.tableData) {\n            const headings = data.headings.map((heading) => {\n              return heading.replaceAll(\"_\", \" \").toUpperCase()\n            })\n            this.setState({\n              headings: headings,\n              tableData: data.tableData\n            })\n          }\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n      \n  render() {\n    return (\n      <Table\n        hideConcurrentSameSrNo={false}\n        tableName=\"Hourly Statistics\"\n        headings={this.state.headings}\n        tableData={this.state.tableData}\n      />\n    );\n  }\n}\n\nexport default HourlyStatsTable;","import React, { Component } from 'react';\nimport { Table } from '..';\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass HourlyProductionTable extends Component {\n  static contextType = EventSourceContext\n  constructor(props) {\n    super(props)\n    this.state = {\"headings\": [], tableData: []}\n    this.shouldRefresh = true;\n  }\n\n  componentDidMount() {\n    this.refresh()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.refresh)\n  }\n\n  componentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.refresh)\n    if (this.netReq) this.netReq.cancel()\n\t}\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.refresh()\n    }\n  }\n\n  refresh = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/hourly-production/${urlParams}`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return []\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          if (data.headings && data.tableData) {\n            this.setState({\n              headings: data.headings,\n              tableData: data.tableData\n            })\n          }\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n      \n  render() {\n    return (\n      <Table\n        hideConcurrentSameSrNo={false}\n        tableName=\"Hourly Production\"\n        headings={this.state.headings}\n        tableData={this.state.tableData}\n      />\n    );\n  }\n}\n\nexport default HourlyProductionTable;","import React, { Component } from 'react';\nimport { Table } from '..';\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass KeyStatsTable extends Component {\n  static contextType = EventSourceContext\n  constructor(props) {\n    super(props)\n    this.state = {\"headings\": [], tableData: []}\n    this.shouldRefresh = true;\n  }\n\n  componentDidMount() {\n    this.refresh()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.refresh)\n  }\n\n  componentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.refresh)\n    if (this.netReq) this.netReq.cancel()\n\t}\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.refresh()\n    }\n  }\n\n  refresh = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/key-stats/${urlParams}`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return []\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          if (data.headings && data.tableData) {\n            const headings = data.headings.map((heading) => {\n              return heading.replaceAll(\"_\", \" \").toUpperCase()\n            })\n            this.setState({\n              headings: headings,\n              tableData: data.tableData\n            })\n          }\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n      \n  render() {\n    return (\n      <Table\n        hideConcurrentSameSrNo={true}\n        tableName=\"Key Statistics\"\n        headings={this.state.headings}\n        tableData={this.state.tableData}\n      />\n    );\n  }\n}\n\nexport default KeyStatsTable;\n\n// fmt(str) {\n//   if (str === 0) str = \"0\"\n//   str = str || '-'\n//   return str.toLocaleString()\n// }\n\n// fmtFloat(num) { if (num !== undefined) return parseFloat(num).toFixed(2) }","import React, { Component } from 'react';\nimport { Circle } from \"rc-progress\";\nimport { TitledCard } from '..';\nimport styles from './EfficiencyChart.module.scss'\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from \"../../utils/utils\";\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass EfficiencyChart extends Component {\n  static contextType = EventSourceContext\n\n  constructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {target: \"0.00%\", actual: \"0.00%\", efficiencyRealized: 0}\n  }\n  \n  componentDidMount() {\n\t\tthis.fetchData()\n    this.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", () => this.fetchData())\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.fetchData()\n    }\n  }\n  \n\tcomponentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n\tfetchData = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/efficiency/${urlParams}`,\n      {headers: authHeader()}),\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          let efficiencyRealized = 0\n          if (data.target === 0 || data.actual === 0)\n            efficiencyRealized = 0\n          else {\n            const per = parseFloat(data.actual) / parseFloat(data.target) * 100\n            if (isNaN(per)) efficiencyRealized = 0\n            else efficiencyRealized = per\n          }\n          this.setState({\n            actual: data.actual,\n            target: data.target,\n            efficiencyRealized: efficiencyRealized,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n\t}\n\n\n  render() {\n    const content = (\n      <div className={styles.block}>\n        <div className={styles.chart}>\n          <Circle\n            gapDegree={40}\n            gapPosition=\"top\"\n            strokeWidth={6}\n            trailWidth={6}\n            strokeLinecap=\"round\"\n            percent={(() => {\n              if (this.state.efficiencyRealized > 100) return 100\n              else return this.state.efficiencyRealized\n            })()}\n          />\n          <div className={styles.stat}>\n            <h4>{this.state.actual}</h4>\n            <p>Target: {this.state.target}</p>\n          </div>\n        </div>\n        \n        <div className={styles.footer}><h4>Efficiency Realized (Pct): <strong>{this.state.efficiencyRealized.toFixed(2)}%</strong></h4></div>\n      </div>\n    )\n    return (\n      <TitledCard title={this.props.title} content={content} />\n    );\n  }\n}\n\nexport default EfficiencyChart;","import React, { Component } from 'react';\nimport Chart from \"chart.js\";\nimport { TitledCard } from '..';\nimport styles from \"./QualityReportChart.module.scss\"\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass QualityReportChart extends Component {\n  static contextType = EventSourceContext\n  chartRef = React.createRef()\n\n  constructor(props){\n    super(props)\n    this.state = {ftt: 0, defective: 0, rectified: 0, rejected: 0}\n  }\n\n  componentDidMount() {\n    this.buildChart()\n    this.fetchData()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.fetchData)\n  }\n\n\tcomponentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n  componentDidUpdate() {\n    this.buildChart()\n  }\n\n  fetchData = () => {\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(fetch(`${API_URL}/metric/quality-report/`, {headers: authHeader()}))\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          this.setState({\n            ftt: data.ftt,\n            defective: data.defective,\n            rectified: data.rectified,\n            rejected: data.rejected,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  buildChart = () => {\n    const ctx = this.chartRef.current.getContext(\"2d\")\n\n    if (typeof this.chart !== \"undefined\") this.chart.destroy();\n\n    this.chart = new Chart(ctx, {\n      type: 'doughnut',\n\t\t\tdata: {\n\t\t\t\tdatasets: [{\n\t\t\t\t\tdata: [\n            this.state.ftt,\n            this.state.defective,\n            this.state.rectified,\n            this.state.rejected\n\t\t\t\t\t],\n\t\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\t'#008450',\n\t\t\t\t\t\t'#EFB700',\n\t\t\t\t\t\t'#336dc4',\n\t\t\t\t\t\t'#B81D13',\n\t\t\t\t\t],\n\t\t\t\t}],\n\t\t\t\tlabels: [\n\t\t\t\t\t'Pass',\n\t\t\t\t\t'Defective',\n\t\t\t\t\t'Rectified',\n\t\t\t\t\t'Alter'\n\t\t\t\t]\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tresponsive: true,\n        maintainAspectRatio: true,\n        aspectRatio: .8,\n\t\t\t\tlegend: {\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t},\n\t\t\t\tanimation: {\n\t\t\t\t\tanimateScale: true,\n\t\t\t\t\tanimateRotate: true\n        },\n        title: {\n          display: false\n        },\n\t\t\t}\n    })\n  }\n\n  render() {\n    const content = (\n      <div className={styles.block}>\n        <div className={styles.chart}>\n          <canvas id=\"output-chart\" ref={this.chartRef} />\n        </div>\n      </div>\n    )\n    return (\n      <TitledCard title=\"Quality Report\" content={content} />\n    );  \n  }\n}\n\nexport default QualityReportChart;","import React, { Component } from 'react';\nimport { Card } from '..';\nimport styles from \"./Filter.module.scss\"\nimport { makeCancelable, authHeader } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass Filter extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\torders: [],\n\t\t\tstyles: [],\n\t\t\tlines: [],\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n    this.fetchData()\n  }\n\n  componentWillUnmount() {\n\t\tif (this.ordersNetReq) this.ordersNetReq.cancel()\n\t\tif (this.styleNetReq) this.styleNetReq.cancel()\n\t\tif (this.lineNetReq) this.lineNetReq.cancel()\n  }\n\n  fetchData = () => {\n    this.fetchOrders()\n\t\tthis.fetchStyles()\n\t\tthis.fetchLines()\n  }\n\n\tfetchOrders = () => {\n\t\tif (this.ordersNetReq) this.ordersNetReq.cancel()\n    this.ordersNetReq = makeCancelable(fetch(`${API_URL}/production-order/`, {headers: authHeader()}))\n    this.ordersNetReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          const orders = data.map((order) => [order.id, order.order_number])\n          this.setState({\n            orders: orders,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n\t}\n\n\tfetchStyles = () => {\n    if (this.styleNetReq) this.styleNetReq.cancel()\n    this.styleNetReq = makeCancelable(fetch(`${API_URL}/style/`, {headers: authHeader()}))\n    this.styleNetReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          const styles = data.map((style) => [style.id, style.number])\n          this.setState({\n            styles: styles,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n\tfetchLines = () => {\n    if (this.lineNetReq) this.lineNetReq.cancel()\n    this.lineNetReq = makeCancelable(fetch(`${API_URL}/line/`, {headers: authHeader()}))\n    this.lineNetReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          const lines = data.map((line) => [line.id, line.number])\n          this.setState({\n            lines: lines,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.block}>\n\t\t\t\t<Card className={styles.card}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tname=\"filterStartDate\"\n\t\t\t\t\t\tonChange={this.props.handleFilterStartDateChange}\n\t\t\t\t\t\tvalue={this.props.filterStartDate}\n\t\t\t\t\t/>\n\t\t\t\t\t<span>To</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tname=\"filterEndDate\"\n\t\t\t\t\t\tonChange={this.props.handleFilterEndDateChange}\n\t\t\t\t\t\tvalue={this.props.filterEndDate}\n\t\t\t\t\t/>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\tonChange={this.props.handleFilterOrderChange}\n\t\t\t\t\t\tvalue={this.props.filterOrder}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"\">Choose Order</option>\n\t\t\t\t\t\t{this.state.orders.map((order) => (\n\t\t\t\t\t\t\t<option key={order[0]} value={order[0]}>{order[1]}</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\tonChange={this.props.handleFilterStyleChange}\n\t\t\t\t\t\tvalue={this.props.filterStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"\">Choose Style</option>\n\t\t\t\t\t\t{this.state.styles.map((style) => (\n\t\t\t\t\t\t\t<option key={style[0]} value={style[0]}>{style[1]}</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName={styles.input}\n\t\t\t\t\t\tonChange={this.props.handleFilterLineChange}\n\t\t\t\t\t\tvalue={this.props.filterLine}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"\">Choose Line</option>\n\t\t\t\t\t\t{this.state.lines.map((line) => (\n\t\t\t\t\t\t\t<option key={line[0]} value={line[0]}>{line[1]}</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Filter;","import React, { Component } from 'react';\nimport { TitledCard } from '..';\nimport styles from \"./QualityReport.module.scss\"\nimport { EventSourceContext } from \"../../context\";\nimport { makeCancelable, authHeader, getUrlParamsStringFromFilter } from \"../../utils/utils\";\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nconst ReportItem = ({title, metric, metricPer, color, hoverText}) => {\n  return (\n    <div title={hoverText} className={styles['report-item']}>\n      <h3 style={{\n        color: color,\n        borderBottom: hoverText ? \"1px dotted black\": \"none\",\n      }}>{title}</h3>\n      <h4>{metric}</h4>\n      <h4>{metricPer}</h4>\n    </div>\n  )\n}\n\nclass QualityReport extends Component {\n  static contextType = EventSourceContext\n  chartRef = React.createRef()\n\n  constructor(props){\n    super(props)\n    this.state = {\n      ftt: 0,\n      defective: 0,\n      rectified: 0,\n      rejected: 0,\n      fttPercentage: \"0.00%\",\n      defectivePercentage: \"0.00%\",\n      rectifiedPercentage: \"0.00%\",\n      rejectedPercentage: \"0.00%\",\n      dhu: 0.00,\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n\t\tthis.eventSource = this.context\n    this.eventSource.addEventListener(\"newQcInput\", this.fetchData)\n  }\n\n\tcomponentWillUnmount() {\n\t\tthis.eventSource.removeEventListener(\"newQcInput\", this.fetchData)\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.fetchData()\n    }\n  }\n\n  fetchData = () => {\n    const urlParams = getUrlParamsStringFromFilter(this.props.filter)\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/metric/quality-report/${urlParams}`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status !== 200) return null\n      return res.json()\n    })\n    .then(\n      (data) => {\n        if (data) {\n          this.setState({\n            ftt: data.ftt,\n            defective: data.defective,\n            rectified: data.rectified,\n            rejected: data.rejected,\n            fttPercentage: data.ftt_percentage,\n            defectivePercentage: data.defective_percentage,\n            rectifiedPercentage: data.rectified_percentage,\n            rejectedPercentage: data.rejected_percentage,\n            dhu: data.dhu,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  render() {\n    const content = (\n      <div className={styles.block}>\n        <ReportItem title=\"Pass\" metric={this.state.ftt} metricPer={this.state.fttPercentage} color=\"#008450\" />\n        <ReportItem title=\"Defective\" metric={this.state.defective} metricPer={this.state.defectivePercentage} color=\"#EFB700\" />\n        <ReportItem title=\"Rectified\" metric={this.state.rectified} metricPer={this.state.rectifiedPercentage} color=\"#336dc4\" hoverText=\"Percentage of defective rectified\" />\n        {/* <ReportItem title=\"Rejected\" metric={this.state.rejected} metricPer={this.state.rejectedPercentage} color=\"#B81D13\" /> */}\n        <ReportItem title=\"DHU\" metric={this.state.dhu} />\n      </div>\n    )\n    return (\n      <TitledCard title=\"Quality Report\" content={content} />\n    );\n  }\n}\n\nexport default QualityReport;","import React, { Component } from 'react';\nimport styles from \"./ProfileSmall.module.scss\"\nimport { LoggedInUserContext } from \"../../context\";\nimport { Link } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { makeCancelable, authHeader } from '../../utils/utils';\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\n\nclass ProfileSmall extends Component {\n  static contextType = LoggedInUserContext\n  constructor(props) {\n    super(props)\n    this.state = {\n      user: null,\n    }\n    this.imgRef = React.createRef()\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  componentWillUnmount() {\n    if (this.netReq) this.netReq.cancel()\n\t}\n\n  fetchData = () => {\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(\n      fetch(`${API_URL}/user/`,\n      {headers: authHeader()})\n    )\n    this.netReq.promise.then(res => {\n      if (res.status === 200) return res.json()\n      else if (res.status === 401) {\n        Cookies.remove('token')\n        const {setUserLogInState} = this.context\n        setUserLogInState(false)\n        return null\n      }\n      else return null\n    })\n    .then(\n      (data) => {\n        if (data && data.username) {\n          this.setState({\n            user: data,\n          })\n        }\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <LoggedInUserContext.Consumer>\n        { ({loggedIn}) => {\n          const user = this.state.user\n          return (\n            <div className={styles.block}>\n              <Link to=\"/settings\">\n                <div className={styles.content}>\n                  <div className={styles.img}>\n                    { loggedIn && user && user.image\n                    ? // eslint-disable-next-line jsx-a11y/alt-text\n                      <img ref={this.imgRef} src={user.image} draggable=\"false\" onError={() => this.imgRef.current.style.display=\"none\"} />\n                    : <span className=\"fas fa-user-alt\"></span> }\n                  </div>\n                  { loggedIn && user && user.username ? <span className={styles.name}>{user.username}</span> : '' }\n                </div>\n              </Link>\n            </div>\n          )\n        }}\n      </LoggedInUserContext.Consumer>\n    );\n  }\n}\n\nexport default ProfileSmall;","import React, { Component } from 'react';\n\nclass PassPropsToChildren extends Component {\n  render() {\n    const childrenWithProps = React.Children.map(this.props.children, child => {\n\t\t\tif (React.isValidElement(child)) {\n        return React.cloneElement(child, { passedProps: this.props.passedProps });\n      }\n      return child;\n\t\t})\n    return (\n      <div className={this.props.className}>\n        {childrenWithProps}\n      </div>\n    );\n  }\n}\n\nexport default PassPropsToChildren;","import React, { Component } from 'react';\nimport styles from './Overview.module.scss';\nimport { MetricCard, FactoryOutputChart, FrequentDefectsTable, KeyStatsTable, EfficiencyChart, HourlyProductionTable, HourlyStatsTable, QualityReport, ProgressCharts } from '../../components';\n\nclass Overview extends Component {\n  render() {\n    const startDate = new Date()\n    startDate.setHours(0,0,0,0)\n    const filter = {\n\t\t\tfilterStartDate: startDate,\n\t\t\tfilterEndDate: new Date(),\n    }\n    const progressChartOptions = [\n      {\n        uri: \"/metric/orders-progress/\",\n        name: \"Orders\",\n        affectMetricsByTime: false,\n      },\n      {\n        uri: \"/metric/styles-progress/\",\n        name: \"Styles\",\n        affectMetricsByTime: false,\n      },\n    ]\n    return (\n      <div className={styles.block}>\n        <FactoryOutputChart />\n        <div className={styles['metric-cards-cont']}>\n          <MetricCard\n            metricName=\"Production Orders\"\n            uri=\"/metric/orders-progress/\"\n            extractData={(data) => data.length}\n          />\n          <MetricCard\n            metricName=\"Production Output\"\n            uri=\"/metric/orders-progress/\"\n            extractData={(data) => data.map((d) => d.produced).reduce((prev, curr) => prev + curr)}\n          />\n          <MetricCard\n            metricName=\"Order Quantity\"\n            uri=\"/metric/orders-progress/\"\n            extractData={(data) => data.map((d) => d.target).reduce((prev, curr) => prev + curr)}\n          />\n          <MetricCard\n            metricName=\"Active Lines\"\n            uri=\"/metric/active-lines/\"\n            extractData={(data) => data.length}\n          />\n          <MetricCard\n            metricName=\"Operators\"\n            uri=\"/metric/active-operators/\"\n            extractData={(data) => data}\n          />\n          <MetricCard\n            metricName=\"Helpers\"\n            uri=\"/metric/active-helpers/\"\n            extractData={(data) => data}\n          />\n        </div>\n        <div className={styles['detail-cards-cont']}>\n          <ProgressCharts filter={filter} chartOptions={progressChartOptions} />\n          <EfficiencyChart filter={filter} title=\"Factory Efficiency\" />\n          {/* <QualityReportChart /> */}\n          <QualityReport filter={filter} />\n          <FrequentDefectsTable filter={filter} />\n        </div>\n        <KeyStatsTable filter={filter} />\n        <HourlyProductionTable filter={filter} />\n        <HourlyStatsTable filter={filter} />\n      </div>\n    );\n  }\n}\n\nexport default Overview;","import React, { Component } from 'react';\nimport styles from \"./Settings.module.scss\";\nimport { LogoutButton } from '..';\n\nclass Settings extends Component {\n    render() {\n        return (\n            <div className={styles.block}>\n                <div className={styles['account-options']}>\n                    <h1>Account Settings</h1>\n                    <LogoutButton />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Settings;","import React, { Component } from 'react';\nimport styles from \"./Stitching.module.scss\"\nimport { Filter, QualityReport, HourlyStatsTable, FrequentDefectsTable, EfficiencyChart, KeyStatsTable, HourlyProductionTable, ProgressCharts } from \"../../components\";\nimport { formatDate } from '../../utils/utils';\n\nclass Stitching extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tfilterStartDate: formatDate(new Date()),\n\t\t\tfilterEndDate: formatDate(new Date()),\n\t\t\tfilterOrder: '',\n\t\t\tfilterStyle: '',\n\t\t\tfilterLine: '',\n\t\t}\n\t\tthis.urlSearchParams = new URLSearchParams(window.location.search)\n\t\tif (this.urlSearchParams.has('start')) this.state['filterStartDate'] = formatDate(this.urlSearchParams.get('start'))\n\t\tif (this.urlSearchParams.has('end')) this.state['filterEndDate'] = formatDate(this.urlSearchParams.get('end'))\n\t\tif (this.urlSearchParams.has('order')) this.state['filterOrder'] = this.urlSearchParams.get('order')\n\t\tif (this.urlSearchParams.has('style')) this.state['filterStyle'] = this.urlSearchParams.get('style')\n\t\tif (this.urlSearchParams.has('line')) this.state['filterLine'] = this.urlSearchParams.get('line')\n\t}\n\n\thandleFilterStartDateChange = (event) => {\n\t\tlet filterStartDate = event.target.value\n\t\tlet filterEndDate = this.state.filterEndDate\n\t\tif ((new Date(filterStartDate) > (new Date(filterEndDate))))\n\t\t\tfilterEndDate = filterStartDate\n\t\tthis.setState({\n\t\t\tfilterStartDate: filterStartDate,\n\t\t\tfilterEndDate: filterEndDate\n\t\t})\n\t}\n\n\thandleFilterEndDateChange = (event) => {\n\t\tlet filterStartDate = this.state.filterStartDate\n\t\tlet filterEndDate = event.target.value\n\t\tif ((new Date(filterEndDate) < (new Date(filterStartDate))))\n\t\t\tfilterStartDate = filterEndDate\n\t\tthis.setState({\n\t\t\tfilterStartDate: filterStartDate,\n\t\t\tfilterEndDate: filterEndDate\n\t\t})\n\t}\n\n\thandleFilterOrderChange = (event) => {\n\t\tthis.setState({filterOrder: event.target.value})\n\t}\n\n\thandleFilterStyleChange = (event) => {\n\t\tthis.setState({filterStyle: event.target.value})\n\t}\n\n\thandleFilterLineChange = (event) => {\n\t\tthis.setState({filterLine: event.target.value})\n\t}\n\n\tupdateURL = () => {\n\t\twindow.history.replaceState({}, '', '?' + this.getSearchParams())\n\t}\n\n\tgetSearchParams = () => {\n\t\tconst filterParams = new URLSearchParams()\n\t\tif (this.state.filterStartDate) filterParams.set('start', this.state.filterStartDate)\n\t\tif (this.state.filterEndDate) filterParams.set('end', this.state.filterEndDate)\n\t\tif (this.state.filterOrder) filterParams.set('order', this.state.filterOrder)\n\t\tif (this.state.filterStyle) filterParams.set('style', this.state.filterStyle)\n\t\tif (this.state.filterLine) filterParams.set('line', this.state.filterLine)\n\t\treturn filterParams.toString()\n\t}\n\n\tgetFilter = () => {\n\t\treturn  {\n\t\t\tfilterStartDate: this.state.filterStartDate,\n\t\t\tfilterEndDate: this.state.filterEndDate,\n\t\t\tfilterOrder: this.state.filterOrder,\n\t\t\tfilterStyle: this.state.filterStyle,\n\t\t\tfilterLine: this.state.filterLine,\n\t\t}\n\t}\n\n\trender() {\n\t\tthis.updateURL()\n\t\tconst filter = this.getFilter()\n\t\tconst progressChartOptions = [\n      {\n        uri: \"/metric/orders-progress/\",\n        name: \"Orders\",\n        affectMetricsByTime: true,\n      },\n      {\n        uri: \"/metric/styles-progress/\",\n        name: \"Styles\",\n        affectMetricsByTime: true,\n      },\n      {\n        uri: \"/metric/lines-progress/\",\n        name: \"Lines\",\n        affectMetricsByTime: true,\n      },\n    ]\n\t\treturn (\n\t\t\t<div className={styles.block}>\n\t\t\t\t\t<Filter\n\t\t\t\t\t\tfilterStartDate={filter.filterStartDate}\n\t\t\t\t\t\tfilterEndDate={filter.filterEndDate}\n\t\t\t\t\t\tfilterOrder={filter.filterOrder}\n\t\t\t\t\t\tfilterStyle={filter.filterStyle}\n\t\t\t\t\t\tfilterLine={filter.filterLine}\n\t\t\t\t\t\thandleFilterStartDateChange={this.handleFilterStartDateChange}\n\t\t\t\t\t\thandleFilterEndDateChange={this.handleFilterEndDateChange}\n\t\t\t\t\t\thandleFilterOrderChange={this.handleFilterOrderChange}\n\t\t\t\t\t\thandleFilterStyleChange={this.handleFilterStyleChange}\n\t\t\t\t\t\thandleFilterLineChange={this.handleFilterLineChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <div className={styles['metric-strips-cont']}>\n\t\t\t\t\t\t<MetricStrip items={[\n\t\t\t\t\t\t\t{\"title\": \"Running Style\", \"body\": \"#3545\"},\n\t\t\t\t\t\t\t{\"title\": \"Style Category\", \"body\": \"Dress\"},\n\t\t\t\t\t\t\t{\"title\": \"Style Color\", \"body\": \"Floral Blue\"},\n\t\t\t\t\t\t\t{\"title\": \"Buyer Name\", \"body\": \"DIESEL\"},\n\t\t\t\t\t\t]} />\n\t\t\t\t\t\t<MetricStrip items={[\n\t\t\t\t\t\t\t{\"title\": \"Operators\", \"body\": \"31\"},\n\t\t\t\t\t\t\t{\"title\": \"Helpers\", \"body\": \"12\"},\n\t\t\t\t\t\t]} />\n\t\t\t\t\t\t<MetricStrip items={[\n\t\t\t\t\t\t\t{\"title\": \"Planned Target\", \"body\": \"4512\"},\n\t\t\t\t\t\t\t{\"title\": \"RTT\", \"body\": \"2318\"},\n\t\t\t\t\t\t\t{\"title\": \"Actual Production\", \"body\": \"2300\"},\n\t\t\t\t\t\t\t{\"title\": \"Variance\", \"body\": \"18\"},\n\t\t\t\t\t\t\t{\"title\": \"WIP\", \"body\": \"2212\"},\n\t\t\t\t\t\t\t{\"title\": \"Predicted Trend\", \"body\": \"2190\"},\n\t\t\t\t\t\t]} />\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<div className={styles['detail-cards-cont']}>\n\t\t\t\t\t\t<ProgressCharts chartOptions={progressChartOptions} filter={filter} />\n\t\t\t\t\t\t<EfficiencyChart title=\"Efficiency\" filter={filter} />\n\t\t\t\t\t\t<QualityReport filter={filter} />\n\t\t\t\t\t\t<FrequentDefectsTable filter={filter} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<KeyStatsTable filter={filter} />\n\t\t\t\t\t{filter.filterStartDate === filter.filterEndDate ? <HourlyProductionTable filter={filter} /> : ''}\n\t\t\t\t\t{filter.filterStartDate === filter.filterEndDate ? <HourlyStatsTable filter={filter} /> : ''}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Stitching;","import React, { Component } from 'react';\nimport { makeCancelable } from '../../utils/utils';\nimport { withRouter } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { LoggedInUserContext } from '../../context';\nimport styles from \"./Login.module.scss\";\nimport { Card } from '../../components';\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faUnlockAlt, faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add([faUnlockAlt, faEnvelope])\n\nconst API_URL = process.env.REACT_APP_SERVER_URL + '/api'\nconst COOKIE_SECURE = process.env.REACT_APP_COOKIE_SECURE\n\nclass Login extends Component {\n  static contextType = LoggedInUserContext\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      message: '',\n      processing: false,\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.netReq) this.netReq.cancel()\n  }\n\n  handleUserNameChange = (event) => {\n    this.setState({username: event.target.value});\n  }\n  \n  handlePasswordChange = (event) => {\n    this.setState({password: event.target.value});\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({message: '', processing: true})\n    if (this.netReq) this.netReq.cancel()\n    this.netReq = makeCancelable(fetch(`${API_URL}/login/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'username': this.state.username,\n        'password': this.state.password,\n      })\n    }))\n    this.netReq.promise\n    .then(\n      (res) => {\n        if (res.status !== 200) {\n          this.setState({\n            message: \"Wrong Username or Password\"\n          })\n        } else {\n          res.json().then(\n            (data => {\n              if (\"token\" in data) {\n                // TODO: Secure attribute doesn't allow the cookie to be set without https\n                Cookies.set('token', data.token, {expires: 365, sameSite: 'Lax', secure: COOKIE_SECURE === 'true'})\n                const {setUserLogInState} = this.context\n                setUserLogInState(true)\n                this.props.history.push('/')\n              }\n            })\n          )\n        }\n      },\n      (error) => {\n        this.setState({message: 'Some error occurred'})\n      }\n    )\n    .finally(() => this.setState({processing: false}));\n  }\n\n  render() {\n    return (\n      <div className={styles.block}>\n        <div className={styles.content}>\n          <Card className={styles.card}>\n            <div className={styles.title}>\n              <h3>Login to Uazo</h3>\n            </div>\n            <form onSubmit={this.handleSubmit}>\n              <div className={styles['form-group']}>\n                <label>Your Username</label>\n                <div className={styles['input-group']}>\n                  <span>\n                    <svg className=\"fas fa-envelope\"></svg>\n                  </span>\n                  <input type=\"text\" required value={this.state.username} placeholder=\"Username\" onChange={this.handleUserNameChange} />\n                </div>\n              </div>\n              <div className={styles['form-group']}>\n                <label>Your Password</label>\n                <div className={styles['input-group']}>\n                  <span>\n                    <svg className=\"fas fa-unlock-alt\"></svg>\n                  </span>\n                  <input type=\"password\" required value={this.state.password} placeholder=\"Password\" onChange={this.handlePasswordChange} />\n                </div>\n              </div>\n              <span className={styles.message}>{this.state.message}</span>\n              <button className={styles.submit} >\n                { this.state.processing ? <svg version=\"1.0\" width=\"18px\" height=\"18px\" viewBox=\"0 0 128 128\"><g><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#000000\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#555555\" transform=\"rotate(45,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#949494\" transform=\"rotate(90,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#cccccc\" transform=\"rotate(135,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#e1e1e1\" transform=\"rotate(180,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#e1e1e1\" transform=\"rotate(225,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#e1e1e1\" transform=\"rotate(270,64,64)\"/><circle cx=\"16\" cy=\"64\" r=\"16\" fill=\"#e1e1e1\" transform=\"rotate(315,64,64)\"/><animateTransform attributeName=\"transform\" type=\"rotate\" values=\"0 64 64;315 64 64;270 64 64;225 64 64;180 64 64;135 64 64;90 64 64;45 64 64\" calcMode=\"discrete\" dur=\"720ms\" repeatCount=\"indefinite\"></animateTransform></g></svg> : '' }\n                Login\n              </button>\n            </form>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);","import React, { Component } from 'react';\nimport styles from \"./LogoutButton.module.scss\";\nimport Cookies from \"js-cookie\";\nimport { LoggedInUserContext } from '../../context';\n\nclass LogoutButton extends Component {\n  static contextType = LoggedInUserContext\n  render() {\n    return (\n      <button className={styles.block} onClick={() => {\n        Cookies.remove('token')\n        const {setUserLogInState} = this.context\n        setUserLogInState(false)\n      }}>Logout</button>\n    );\n  }\n}\n\nexport default LogoutButton;","import React, { Component } from 'react';\nimport { library, dom } from \"@fortawesome/fontawesome-svg-core\";\nimport { faCog, faChartPie, faChartLine } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { NavLayout } from \"./components\";\nimport { Overview, Settings, Stitching, Login } from './containers';\nimport { EventSourceContext, LoggedInUserContext } from './context';\nimport { BrowserRouter  as Router, Switch, Route } from \"react-router-dom\";\nimport { isUserLoggedIn } from './utils/utils';\n\nlibrary.add([faCog, faChartPie, faChartLine])\ndom.watch()\n\nconst APP_URL = process.env.REACT_APP_SERVER_URL\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.eventSource = new EventSource(`${APP_URL}/sse/event/`)\n  \n    this.setUserLogInState = (loggedIn) => {\n      this.setState({\n        loggedIn: loggedIn,\n      })\n    }\n  \n    const userLoggedIn = isUserLoggedIn()\n    this.state = {\n      loggedIn: userLoggedIn,\n      setUserLogInState: this.setUserLogInState,\n    }\n  }\n  \n  componentWillUnmount() {\n    this.eventSource.close()\n  }\n\n  render() {\n    return (\n      <LoggedInUserContext.Provider value={this.state}>\n        <Router>\n          <Switch>\n            <Route exact path=\"/login\"><Login /></Route>\n            <Route path=\"\">\n              <EventSourceContext.Provider value={this.eventSource}>\n                <NavLayout pages={[\n                  {\n                    'content': <Overview/>,\n                    'title': 'Overview',\n                    'url': '/',\n                    'iconClass': 'fas fa-chart-pie'\n                  },\n                  {\n                    'content': <Stitching />,\n                    'title': 'Stitching',\n                    'url': '/stitching',\n                    'iconClass': 'fas fa-chart-line'\n                  },\n                  {\n                    'content': <Settings />,\n                    'title': 'Settings',\n                    'url': '/settings',\n                    'iconClass': 'fas fa-cog'\n                  },\n                ]}/>\n              </EventSourceContext.Provider>\n            </Route>\n          </Switch>\n        </Router>\n      </LoggedInUserContext.Provider>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\n(function(l) {\n  if (l.search[1] === '/' ) {\n    var decoded = l.search.slice(1).split('&').map(function(s) { \n      return s.replace(/~and~/g, '&')\n    }).join('?');\n    window.history.replaceState(null, null,\n        l.pathname.slice(0, -1) + decoded + l.hash\n    );\n  }\n}(window.location))\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}